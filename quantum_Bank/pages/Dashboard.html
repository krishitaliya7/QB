<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>QuantumBank Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="../css/style.css">
  <!-- Chart.js for spending analytics chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    .dashboard-layout {
      display: grid;
      grid-template-columns: 1fr;
      gap: 2rem;
    }
    @media (min-width: 768px) {
      .dashboard-layout {
        grid-template-columns: 2fr 1fr; /* Main content and sidebar */
      }
    }
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }
  </style>
</head>
<body class="bg-gray-50 min-h-screen">

  <header class="bg-blue-700 text-white p-6 text-center">
    <h1 class="text-3xl font-bold">QuantumBank</h1>
  </header>

  <main class="container mx-auto px-4 py-12">
    <h2 class="text-3xl font-bold text-gray-800 mb-8">
      Welcome to Your Dashboard, <span id="dashboardUser Name">'' </span>!
    </h2>
    
    <div class="dashboard-layout">
      <!-- Main Content Area -->
      <div>
        <!-- Accounts Overview -->
        <section class="mb-8">
          <h3 class="text-2xl font-bold text-gray-800 mb-4">Your Accounts</h3>
          <div id="accountsContainer" class="dashboard-grid">
            <!-- Accounts will be dynamically loaded here -->
          </div>
        </section>

        <!-- Recent Transactions -->
        <section class="mb-8">
          <h3 class="text-2xl font-bold text-gray-800 mb-4">Recent Transactions</h3>
          <div class="bg-white shadow-md rounded-lg overflow-hidden">
            <table class="min-w-full divide-y divide-gray-200">
              <thead class="bg-gray-50">
                <tr>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                </tr>
              </thead>
              <tbody id="transactionsTable" class="bg-white divide-y divide-gray-200">
                <!-- Transactions will be dynamically loaded here -->
              </tbody>
            </table>
          </div>
        </section>
      </div>

      <!-- Sidebar Area -->
      <div>
        <!-- Spending Analytics Chart -->
        <section class="mb-8 bg-white p-6 rounded-lg shadow-md">
          <h3 class="text-2xl font-bold text-gray-800 mb-4">Spending Analytics</h3>
          <canvas id="spendingChart" width="300" height="300"></canvas>
        </section>

        <!-- Quick Actions -->
        <section class="mb-8 bg-white p-6 rounded-lg shadow-md">
          <h3 class="text-2xl font-bold text-gray-800 mb-4">Quick Actions</h3>
          <div class="space-y-4">
            <button id="transferBtn" class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition">Make a Transfer</button>
            <button class="w-full bg-green-600 text-white py-3 rounded-lg font-medium hover:bg-green-700 transition">Pay Bills</button>
            <button class="w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition">Manage Cards</button>
          </div>
        </section>
      </div>
    </div>
  </main>

  <script>
    // Example user name
    document.getElementById('dashboardUser Name').textContent = 'Krish';

    // Example accounts data
    const accounts = [
      { type: 'Premium Checking', number: '•••• 5678', balance: 8450.23 },
      { type: 'High-Yield Savings', number: '•••• 9012', balance: 32500.00 },
      { type: 'Business Checking', number: '•••• 3456', balance: 15200.50 }
    ];

    const accountsContainer = document.getElementById('accountsContainer');
    accounts.forEach(account => {
      const accountCard = document.createElement('div');
      accountCard.className = 'bg-white rounded-xl p-6 shadow hover:shadow-lg transition';
      accountCard.innerHTML = `
        <h4 class="text-lg font-semibold text-gray-800">${account.type}</h4>
        <p class="text-gray-500 mb-2">${account.number}</p>
        <p class="text-3xl font-bold text-gray-900">$${account.balance.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</p>
        <p class="text-gray-500">Available balance</p>
      `;
      accountsContainer.appendChild(accountCard);
    });

    // Example transactions data
    const transactions = [
      { date: '2023-06-15', description: 'Grocery Store', amount: -87.34, status: 'Completed' },
      { date: '2023-06-14', description: 'Salary Deposit', amount: 4200.00, status: 'Completed' },
      { date: '2023-06-12', description: 'Electric Bill', amount: -145.67, status: 'Completed' },
      { date: '2023-06-11', description: 'Online Shopping', amount: -230.10, status: 'Completed' },
      { date: '2023-06-10', description: 'Restaurant', amount: -55.00, status: 'Completed' }
    ];

    const transactionsTable = document.getElementById('transactionsTable');
    transactions.forEach(tx => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${tx.date}</td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${tx.description}</td>
        <td class="px-6 py-4 whitespace-nowrap text-sm ${tx.amount >= 0 ? 'text-green-600' : 'text-red-600'}">
          ${tx.amount >= 0 ? '+' : ''}$${Math.abs(tx.amount).toFixed(2)}
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${tx.status}</td>
      `;
      transactionsTable.appendChild(tr);
    });

    // Spending Analytics Chart
    const ctx = document.getElementById('spendingChart').getContext('2d');
    const spendingData = {
      labels: ['Food', 'Utilities', 'Shopping', 'Transport', 'Entertainment'],
      datasets: [{
        label: 'Spending',
        data: [142.34, 145.67, 230.10, 80.00, 120.00],
        backgroundColor: [
          '#0b74de', // blue-600
          '#055aa8', // blue-800
          '#10b981', // green-500
          '#f59e0b', // amber-500
          '#ef4444'  // red-500
        ],
        hoverOffset: 4
      }]
    };
    const spendingChart = new Chart(ctx, {
      type: 'doughnut',
      data: spendingData,
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'top',
          },
          title: {
            display: true,
            text: 'Spending by Category'
          }
        }
      }
    });

    // Quick Actions button example
    document.getElementById('transferBtn').addEventListener('click', () => {
      alert('Transfer functionality coming soon!');
    });
  </script>

</body>
</html>
